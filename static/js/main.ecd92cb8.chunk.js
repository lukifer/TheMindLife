(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(36)},32:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n,i,r,s,l=a(0),o=a.n(l),c=a(13),p=a.n(c),u=a(7),d=a(5),m=a(6),h=a(17),v=a(15),f=a(18),y=a(19),g=a(4),S=a.n(g),w=[3,6,9],E=[2,5,8],b=new(function(){function e(){Object(d.a)(this,e)}return Object(m.a)(e,[{key:"numWord",value:function(e){switch(e){case 12:return"Twelve";case 11:return"Eleven";case 10:return"Ten";case 9:return"Nine";case 8:return"Eight";case 7:return"Seven";case 6:return"Six";case 5:return"Five";case 4:return"Four";case 3:return"Three";case 2:return"Two";case 1:return"One";default:return""}}},{key:"maxLevel",value:function(e){switch(e){case 4:return 8;case 3:return 10;case 2:default:return 12}}},{key:"startingLives",value:function(e){return e}},{key:"maxLives",value:function(e,t){return this.startingLives(e)- -this.extraLives(t)}},{key:"extraLives",value:function(e){return w.reduce(function(t,a){return e>=a?t+1:t},0)}},{key:"maxStars",value:function(e){return E.reduce(function(t,a){return e>=a?t+1:t},1)}}]),e}()),x=window.innerWidth,C=window.innerHeight,k=[],N=[],L=400;function O(){i.fillStyle="rgba(0, 0, 0, 0.001)",i.fillRect(0,0,x,C);var e,t=parseInt(Math.random()*x),a=parseInt(Math.random()*C),n=[];for(e=0;e<N.length;e++){N[e].update(),N[e].render(i);var r=Math.sqrt(Math.pow(t-N[e].pos.x,2)+Math.pow(a-N[e].pos.y,2)),s=N[e].pos.y<2*C/3&&100*Math.random()<=1;N[e].pos.y<C/5||N[e].vel.y>=0||r<50||s?N[e].explode():n.push(N[e])}N=n;var l=[];for(e=0;e<k.length;e++)k[e].update(),k[e].exists()&&(k[e].render(i),l.push(k[e]));for(k=l;k.length>L;)k.shift()}function M(e){this.pos={x:e?e.x:0,y:e?e.y:0},this.vel={x:0,y:0},this.shrink=.97,this.size=2,this.resistance=1,this.gravity=0,this.flick=!1,this.alpha=1,this.fade=0,this.color=0}function P(e){M.apply(this,[{x:e,y:C}]),this.explosionColor=0}M.prototype.update=function(){this.vel.x*=this.resistance,this.vel.y*=this.resistance,this.vel.y+=this.gravity,this.pos.x+=this.vel.x,this.pos.y+=this.vel.y,this.size*=this.shrink,this.alpha-=this.fade},M.prototype.render=function(e){if(this.exists()){e.save(),e.globalCompositeOperation="lighter";var t=this.pos.x,a=this.pos.y,n=this.size/2,i=e.createRadialGradient(t,a,.1,t,a,n);i.addColorStop(.1,"rgba(255,255,255,"+this.alpha+")"),i.addColorStop(.8,"hsla("+this.color+", 100%, 50%, "+this.alpha+")"),i.addColorStop(1,"hsla("+this.color+", 100%, 50%, 0.1)"),e.fillStyle=i,e.beginPath(),e.arc(this.pos.x,this.pos.y,this.flick?Math.random()*this.size:this.size,0,2*Math.PI,!0),e.closePath(),e.fill(),e.restore()}},M.prototype.exists=function(){return this.alpha>=.1&&this.size>=1},P.prototype=new M,P.prototype.constructor=P,P.prototype.explode=function(){for(var e=10*Math.random()+80,t=0;t<e;t++){var a=new M(this.pos),n=Math.random()*Math.PI*2,i=15*Math.cos(Math.random()*Math.PI/2);a.vel.x=Math.cos(n)*i,a.vel.y=Math.sin(n)*i,a.size=10,a.gravity=.2,a.resistance=.92,a.shrink=.05*Math.random()+.93,a.flick=!0,a.color=this.explosionColor,k.push(a)}},P.prototype.render=function(e){if(this.exists()){e.save(),e.globalCompositeOperation="lighter";var t=this.pos.x,a=this.pos.y,n=this.size/2,i=e.createRadialGradient(t,a,.1,t,a,n);i.addColorStop(.1,"rgba(255, 255, 255 ,"+this.alpha+")"),i.addColorStop(1,"rgba(0, 0, 0, "+this.alpha+")"),e.fillStyle=i,e.beginPath(),e.arc(this.pos.x,this.pos.y,this.flick?Math.random()*this.size/2+this.size/2:this.size,0,2*Math.PI,!0),e.closePath(),e.fill(),e.restore()}};var T={canvas:n,active:!1,start:function(){this.active=!0,document.getElementById("fireworks_wrap").style.display="block",(n=document.getElementById("fireworks")).width=x,n.height=C,i=n.getContext("2d"),r=setInterval(function(){!function(e){if(N.length<10){var t=new P(e);t.explosionColor=10*Math.floor(360*Math.random()/10),t.vel.y=-3*Math.random()-4,t.vel.x=6*Math.random()-3,t.size=8,t.shrink=.999,t.gravity=.01,N.push(t)}}(parseInt(Math.random()*x))},800),s=setInterval(O,20)},stop:function(){this.active&&(this.active=!1,document.getElementById("fireworks_wrap").style.display="none",document.getElementById("fireworks").getContext("2d").clearRect(0,0,n.width,n.height),r&&clearInterval(r),s&&clearInterval(s),r=!1,s=!1)}},A=(a(32),function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"playerCountPanes",value:function(){return[2,3,4].map(function(e,t){return o.a.createElement("div",{key:"playerCount"+t},o.a.createElement("div",{className:"row playerCount"},o.a.createElement("div",{className:"label"},e," Players")))})}},{key:"levelPanes",value:function(){var e=b.maxLevel(this.props.mind.playerCount),t=e- -1;return Array.apply(null,Array(t)).map(function(t,a){return o.a.createElement("div",{key:"level"+a},o.a.createElement("div",{className:"row level"},o.a.createElement("div",{className:"label"},a- -1<=e&&o.a.createElement("span",null,"Level ",a- -1),a===e&&o.a.createElement("span",null,"YOU WIN!"))))})}},{key:"livesPanes",value:function(){var e=b.maxLives(this.props.mind.playerCount,this.props.mind.level)||0,t=Math.max(e,this.props.mind.lives)- -1;return Array.apply(null,Array(t)).map(function(e,t){return o.a.createElement("div",{key:"lives"+t},o.a.createElement("div",{className:"row lives"},o.a.createElement("div",{className:"images",style:{maxWidth:90*t+"px"}},0===t&&o.a.createElement("div",null,o.a.createElement("img",{key:"bunny-dead",className:"bunny bunnyDead",src:"img/bunny-dead.png",alt:"Game Over"})),t>0&&Array.apply(null,Array(t)).map(function(e,a){return o.a.createElement("div",{key:"bunny"+t+a},o.a.createElement("img",{className:"bunny",src:"img/bunny.png",alt:"Life #"+(a- -1)}))}))))})}},{key:"starsPanes",value:function(){var e=Math.max(b.maxStars(this.props.mind.level)- -1||0,this.props.mind.stars);return Array.apply(null,Array(e)).map(function(e,t){return o.a.createElement("div",{key:"stars"+t},o.a.createElement("div",{className:"row stars"},o.a.createElement("div",{className:"images",style:{maxWidth:90*t+"px"}},t>0&&Array.apply(null,Array(t)).map(function(e,a){return o.a.createElement("div",{key:"star"+t+a},o.a.createElement("img",{className:"star",src:"img/star.png",alt:"Star #"+(a- -1)}))}),0===t&&o.a.createElement("div",null,o.a.createElement("img",{key:"star-empty",className:"starEmpty",src:"img/star_bw.png",alt:"0 Stars"})))))})}},{key:"componentDidUpdate",value:function(e,t,a){var n=e.mind,i=this.props.mind;if(n.level!==i.level){var r=b.maxLives(n.playerCount,n.level),s=b.maxLives(i.playerCount,i.level);if(r!==s){var l=r-s,o=this.livesSwipe.getPos()-l,c=this;setTimeout(function(){o>0&&"active"===i.gameState&&c.livesSwipe.slide(o,500)},0)}else{var p=b.maxStars(n.level),u=b.maxStars(i.level);if(p!==u){var d=p-u,m=this.starsSwipe.getPos()-d,h=this;setTimeout(function(){h.starsSwipe.slide(m,500)},0)}}}n.gameState!==i.gameState&&("win"===n.gameState?T.stop():"win"===i.gameState&&T.start()),localStorage.setItem("mind",JSON.stringify(i))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{id:"preWrap",className:"pre"===this.props.mind.gameState?"":"hidden"},o.a.createElement("div",{id:"playerCountSwipeWrap",className:"reactSwipeWrap"},o.a.createElement(S.a,{ref:function(t){return e.playerCountSwipe=t},childCount:this.playerCountPanes().length,className:"playerCountSwipe",swipeOptions:{continuous:!1,startSlide:this.props.mind.playerCount-2,callback:function(e,t){},swiping:function(e){},transitionEnd:function(t,a){return e.props.setPlayerCount(t- -2)}}},this.playerCountPanes()),o.a.createElement("div",{id:"playerCountSubtitle",className:"subtitle"},"Levels 1 - ",b.maxLevel(this.props.mind.playerCount)),o.a.createElement("button",{id:"startButton",onClick:function(t){return e.props.setGameState("active")},className:"pre"===this.props.mind.gameState?"visible":""},o.a.createElement("span",null,"Start Game")))),o.a.createElement("div",{id:"activeWrap",className:"pre"===this.props.mind.gameState?"hidden":""},o.a.createElement("div",{id:"levelSwipeWrap",className:"reactSwipeWrap"},o.a.createElement(S.a,{ref:function(t){return e.levelSwipe=t},childCount:this.levelPanes().length,className:"levelSwipe",swipeOptions:{continuous:!1,startSlide:"win"===this.props.mind.gameState?this.props.mind.level:this.props.mind.level-1,callback:function(e,t){},swiping:function(e){},transitionEnd:function(t,a){var n=b.maxLevel(e.props.mind.playerCount);t- -1>n?e.props.setGameState("win"):"win"===e.props.mind.gameState&&t<n?e.props.setGameState("active"):e.props.setLevel(t- -1)}}},this.levelPanes()),o.a.createElement("div",{id:"levelSwipeSubtitle",className:"active"===this.props.mind.gameState?"subtitle":"hidden"},this.props.mind.level===b.maxLevel(this.props.mind.playerCount)&&o.a.createElement("div",null,"Final Level!"),"Deal ",b.numWord(this.props.mind.level)," To Each Player")),o.a.createElement("div",{id:"livesSwipeWrap",className:"reactSwipeWrap"},o.a.createElement(S.a,{ref:function(t){return e.livesSwipe=t},childCount:this.livesPanes().length,className:"active"===this.props.mind.gameState?"livesSwipe":"livesSwipe inactive",swipeOptions:{continuous:!1,startSlide:this.props.mind.lives,callback:function(e,t){},swiping:function(e){},transitionEnd:function(t,a){e.props.setLives(t)}}},this.livesPanes()),o.a.createElement("div",{className:"label"},0===this.props.mind.lives&&o.a.createElement("span",null,"GAME OVER"),this.props.mind.lives>0&&o.a.createElement("span",null,"Lives ",this.props.mind.lives,"  / ",b.maxLives(this.props.mind.playerCount,this.props.mind.level)))),o.a.createElement("div",{id:"starsSwipeWrap",className:"reactSwipeWrap"},o.a.createElement(S.a,{ref:function(t){return e.starsSwipe=t},childCount:this.starsPanes().length,className:"active"===this.props.mind.gameState?"starsSwipe":"starsSwipe hidden",swipeOptions:{continuous:!1,startSlide:this.props.mind.stars,callback:function(e,t){},swiping:function(e){},transitionEnd:function(t,a){e.props.setStars(t)}}},this.starsPanes()),o.a.createElement("div",{className:"active"===this.props.mind.gameState?"label":"hidden"},"Stars ",this.props.mind.stars," / ",b.maxStars(this.props.mind.level)),o.a.createElement("button",{id:"newGameButton",onClick:function(t){return e.props.setGameState("pre")},className:"win"===this.props.mind.gameState||"loss"===this.props.mind.gameState?"":"hidden"},o.a.createElement("span",null,"New Game")))))}}]),t}(l.Component)),W=Object(u.b)(function(e){return Object(y.a)({},e)},function(e){return{setLevel:function(t){return e(function(e){return function(t){t({type:"SET_LEVEL",payload:{level:e}})}}(t))},setLives:function(t){return e(function(e){return function(t){t({type:"SET_LIVES",payload:{lives:e}})}}(t))},setStars:function(t){return e(function(e){return function(t){t({type:"SET_STARS",payload:{stars:e}})}}(t))},setPlayerCount:function(t){return e(function(e){return function(t){t({type:"SET_PLAYER_COUNT",payload:{playerCount:e}})}}(t))},setGameState:function(t){return e(function(e){return function(t){t({type:"SET_GAME_STATE",payload:{gameState:e}})}}(t))}}})(A),I=a(2),j=a(16),_={playerCount:2,level:1,lives:2,stars:1,gameState:"pre"},G=JSON.parse(localStorage.getItem("mind","false")),z=Object(I.c)({mind:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G||_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PLAYER_COUNT":return Object.assign({},e,{playerCount:t.payload.playerCount,lives:t.payload.playerCount});case"SET_LEVEL":return Object.assign({},e,{level:t.payload.level,gameState:t.payload.level>16-2*e.playerCount?"win":"active"});case"SET_LIVES":return Object.assign({},e,{lives:t.payload.lives,gameState:t.payload.lives>0&&"win"!==e.gameState?"active":"loss"});case"SET_STARS":return Object.assign({},e,{stars:t.payload.stars});case"SET_GAME_STATE":var a="pre"!==e.gameState&&"pre"===t.payload.gameState?_:e;return Object.assign({},a,{gameState:t.payload.gameState});default:return e}}});var R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(34);var U=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],Object(I.d)(z,Object(I.a)(j.a))}();p.a.render(o.a.createElement(u.a,{store:U},o.a.createElement(W,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/TheMindLife",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/TheMindLife","/service-worker.js");R?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):B(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):B(t,e)})}}()}},[[20,2,1]]]);
//# sourceMappingURL=main.ecd92cb8.chunk.js.map