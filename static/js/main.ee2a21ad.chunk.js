(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(36)},32:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(11),r=a.n(i),l=a(5),o=a(13),c=a(14),p=a(17),u=a(15),m=a(18),h=a(19),d=a(4),v=a.n(d),y=(window.innerWidth,window.innerHeight),f=[];function S(e){this.pos={x:e?e.x:0,y:e?e.y:0},this.vel={x:0,y:0},this.shrink=.97,this.size=2,this.resistance=1,this.gravity=0,this.flick=!1,this.alpha=1,this.fade=0,this.color=0}function E(e){S.apply(this,[{x:e,y:y}]),this.explosionColor=0}S.prototype.update=function(){this.vel.x*=this.resistance,this.vel.y*=this.resistance,this.vel.y+=this.gravity,this.pos.x+=this.vel.x,this.pos.y+=this.vel.y,this.size*=this.shrink,this.alpha-=this.fade},S.prototype.render=function(e){if(this.exists()){e.save(),e.globalCompositeOperation="lighter";var t=this.pos.x,a=this.pos.y,n=this.size/2,s=e.createRadialGradient(t,a,.1,t,a,n);s.addColorStop(.1,"rgba(255,255,255,"+this.alpha+")"),s.addColorStop(.8,"hsla("+this.color+", 100%, 50%, "+this.alpha+")"),s.addColorStop(1,"hsla("+this.color+", 100%, 50%, 0.1)"),e.fillStyle=s,e.beginPath(),e.arc(this.pos.x,this.pos.y,this.flick?Math.random()*this.size:this.size,0,2*Math.PI,!0),e.closePath(),e.fill(),e.restore()}},S.prototype.exists=function(){return this.alpha>=.1&&this.size>=1},E.prototype=new S,E.prototype.constructor=E,E.prototype.explode=function(){for(var e=10*Math.random()+80,t=0;t<e;t++){var a=new S(this.pos),n=Math.random()*Math.PI*2,s=15*Math.cos(Math.random()*Math.PI/2);a.vel.x=Math.cos(n)*s,a.vel.y=Math.sin(n)*s,a.size=10,a.gravity=.2,a.resistance=.92,a.shrink=.05*Math.random()+.93,a.flick=!0,a.color=this.explosionColor,f.push(a)}},E.prototype.render=function(e){if(this.exists()){e.save(),e.globalCompositeOperation="lighter";var t=this.pos.x,a=this.pos.y,n=this.size/2,s=e.createRadialGradient(t,a,.1,t,a,n);s.addColorStop(.1,"rgba(255, 255, 255 ,"+this.alpha+")"),s.addColorStop(1,"rgba(0, 0, 0, "+this.alpha+")"),e.fillStyle=s,e.beginPath(),e.arc(this.pos.x,this.pos.y,this.flick?Math.random()*this.size/2+this.size/2:this.size,0,2*Math.PI,!0),e.closePath(),e.fill(),e.restore()}};a(32);var g=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"maxLevel",value:function(){switch(this.props.playerCount){case 4:return 8;case 3:return 10;case 2:default:return 12}}},{key:"maxLives",value:function(e){var t=e||this.props.mind.level;return[3,6,9].reduce(function(e,a){return t>=a?e+1:e},this.props.playerCount||2)}},{key:"maxStars",value:function(e){var t=e||this.props.mind.level;return[2,5,8].reduce(function(e,a){return t>=a?e+1:e},1)}},{key:"levelPanes",value:function(){var e=this.props.level||1,t=this.maxLevel(),a=t-e- -2;return Array.apply(null,Array(a)).map(function(a,n){return s.a.createElement("div",{key:"level"+n},s.a.createElement("div",{className:"row level"},s.a.createElement("div",{className:"label"},n- -e<=t&&s.a.createElement("span",null,"Level ","".concat(n+e)),n- -e>t&&s.a.createElement("span",null,"VICTORY"))))})}},{key:"livesPanes",value:function(){var e=this,t=Math.max(this.maxLives()- -1||0,this.props.mind.lives);return Array.apply(null,Array(t)).map(function(t,a){return s.a.createElement("div",{key:"lives"+a},s.a.createElement("div",{className:"row lives"},s.a.createElement("div",{className:"images"},0===a&&s.a.createElement("img",{key:"bunny-dead",className:"bunny bunnyDead",src:"/img/bunny-dead.png",alt:"Game Over"}),a>0&&Array.apply(null,Array(a)).map(function(e,t){return s.a.createElement("img",{key:"bunny"+a+t,className:"bunny",src:"/img/bunny.png",alt:"Life #"+(t- -1)})})),s.a.createElement("div",{className:"label"},0===a&&s.a.createElement("span",{className:"label"},"GAME OVER"),a>0&&s.a.createElement("span",{className:"label"},"Lives ","".concat(a),"  / ",e.maxLives()))))})}},{key:"starsPanes",value:function(){var e=this,t=Math.max(this.maxStars()- -1||0,this.props.mind.stars);return Array.apply(null,Array(t)).map(function(t,a){return s.a.createElement("div",{key:"stars"+a},s.a.createElement("div",{className:"row stars"},s.a.createElement("div",{className:"images"},a>0&&Array.apply(null,Array(a)).map(function(e,t){return s.a.createElement("img",{key:"star"+a+t,className:"star",src:"/img/star.png",alt:"Star #"+(t- -1)})}),0===a&&s.a.createElement("img",{key:"star-empty",className:"starEmpty",src:"/img/star_bw.png",alt:"0 Stars"})),s.a.createElement("div",{className:"label"},"Stars ",a," / ",e.maxStars())))})}},{key:"playerCountPanes",value:function(){return[2,3,4].map(function(e,t){return s.a.createElement("div",{key:"playerCount"+t},s.a.createElement("div",{className:"row playerCount"},s.a.createElement("div",{className:"images"},Array.apply(null,Array(e)).map(function(e,a){return s.a.createElement("img",{key:"brain"+t+a,className:"brain",src:"/img/brain.jpg",alt:"Brain #"+(a- -1)})})),s.a.createElement("div",{className:"label"},"".concat(e)," Players")))})}},{key:"componentDidUpdate",value:function(e,t,a){var n=e.mind,s=this.props.mind;if(n.level!==s.level)if(this.maxLives(n.level)<this.maxLives(s.level)){var i=this.livesSwipe.getPos()- -1,r=this;setTimeout(function(){r.livesSwipe.slide(i,500)},0)}else if(this.maxStars(n.level)<this.maxStars(s.level)){var l=this.starsSwipe.getPos()- -1,o=this;setTimeout(function(){o.starsSwipe.slide(l,500)},0)}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement("div",{id:"preWrap",className:"pre"===this.props.mind.gameState?"":"hidden"},s.a.createElement("div",{id:"playerCountSwipeWrap",className:"reactSwipeWrap"},s.a.createElement(v.a,{ref:function(t){return e.playerCountSwipe=t},childCount:this.playerCountPanes().length,className:"playerCountSwipe",swipeOptions:{continuous:!1,startSlide:this.props.mind.playerCount-2,callback:function(e,t){},swiping:function(e){},transitionEnd:function(t,a){return e.props.setPlayerCount(t- -2)}}},this.playerCountPanes()),s.a.createElement("button",{id:"startButton",onClick:function(t){return e.props.setGameState("active")},className:"pre"===this.props.mind.gameState?"visible":""},s.a.createElement("span",null,"Start Game")))),s.a.createElement("div",{id:"activeWrap",className:"pre"===this.props.mind.gameState?"hidden":""},s.a.createElement("div",{id:"playerCountDisplay"},this.props.mind.playerCount," Players"),s.a.createElement("div",{id:"levelSwipeWrap",className:"reactSwipeWrap"},s.a.createElement(v.a,{ref:function(t){return e.levelSwipe=t},childCount:this.levelPanes().length,className:"levelSwipe",swipeOptions:{continuous:!1,startSlide:this.props.mind.level-1,callback:function(e,t){},swiping:function(e){},transitionEnd:function(t,a){t- -1>e.maxLevel()?e.props.setGameState("win"):e.props.setLevel(t- -1)}}},this.levelPanes())),s.a.createElement("div",{id:"livesSwipeWrap",className:"reactSwipeWrap"},s.a.createElement(v.a,{ref:function(t){return e.livesSwipe=t},childCount:this.livesPanes().length,className:"livesSwipe",swipeOptions:{continuous:!1,startSlide:this.props.mind.lives,callback:function(e,t){},swiping:function(e){},transitionEnd:function(t,a){e.props.setLives(t)}}},this.livesPanes())),s.a.createElement("div",{id:"starsSwipeWrap",className:"reactSwipeWrap"},s.a.createElement(v.a,{ref:function(t){return e.starsSwipe=t},childCount:this.starsPanes().length,className:"active"===this.props.mind.gameState?"starsSwipe":"starsSwipe hidden",swipeOptions:{continuous:!1,startSlide:this.props.mind.stars,callback:function(e,t){},swiping:function(e){},transitionEnd:function(t,a){e.props.setStars(t)}}},this.starsPanes()),s.a.createElement("button",{id:"newGameButton",onClick:function(t){return e.props.setGameState("pre")},className:"win"===this.props.mind.gameState||"loss"===this.props.mind.gameState?"":"hidden"},s.a.createElement("span",null,"New Game")))))}}]),t}(n.Component),w=Object(l.b)(function(e){return Object(h.a)({},e)},function(e){return{setLevel:function(t){return e(function(e){return function(t){t({type:"SET_LEVEL",payload:{level:e}})}}(t))},setLives:function(t){return e(function(e){return function(t){t({type:"SET_LIVES",payload:{lives:e}})}}(t))},setStars:function(t){return e(function(e){return function(t){t({type:"SET_STARS",payload:{stars:e}})}}(t))},setPlayerCount:function(t){return e(function(e){return function(t){t({type:"SET_PLAYER_COUNT",payload:{playerCount:e}})}}(t))},setGameState:function(t){return e(function(e){return function(t){t({type:"SET_GAME_STATE",payload:{gameState:e}})}}(t))}}})(g),b=a(2),C=a(16),k={playerCount:2,level:1,lives:2,stars:1,gameState:"pre"},x=Object(b.c)({mind:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PLAYER_COUNT":return Object.assign({},e,{playerCount:t.payload.playerCount});case"SET_LEVEL":return Object.assign({},e,{level:t.payload.level,gameState:t.payload.level>16-2*e.playerCount?"win":"active"});case"SET_LIVES":return Object.assign({},e,{lives:t.payload.lives,gameState:t.payload.lives>0&&"win"!==e.gameState?"active":"loss"});case"SET_STARS":return Object.assign({},e,{stars:t.payload.stars});case"SET_GAME_STATE":var a="pre"!==e.gameState&&"pre"===t.payload.gameState?k:e;return Object.assign({},a,{gameState:t.payload.gameState});default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(34);var N=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],Object(b.d)(x,Object(b.a)(C.a))}();r.a.render(s.a.createElement(l.a,{store:N},s.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.ee2a21ad.chunk.js.map