(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(36)},32:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(13),r=a.n(s),l=a(7),o=a(5),c=a(6),p=a(17),u=a(15),m=a(18),h=a(19),d=a(4),v=a.n(d),y=[3,6,9],f=[2,5,8],S=new(function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"maxLevel",value:function(e){switch(e){case 4:return 8;case 3:return 10;case 2:default:return 12}}},{key:"startingLives",value:function(e){return e}},{key:"maxLives",value:function(e,t){return this.startingLives(e)- -this.extraLives(t)}},{key:"extraLives",value:function(e){return y.reduce(function(t,a){return e>=a?t+1:t},0)}},{key:"maxStars",value:function(e){return f.reduce(function(t,a){return e>=a?t+1:t},1)}}]),e}()),E=(window.innerWidth,window.innerHeight),g=[];function w(e){this.pos={x:e?e.x:0,y:e?e.y:0},this.vel={x:0,y:0},this.shrink=.97,this.size=2,this.resistance=1,this.gravity=0,this.flick=!1,this.alpha=1,this.fade=0,this.color=0}function b(e){w.apply(this,[{x:e,y:E}]),this.explosionColor=0}w.prototype.update=function(){this.vel.x*=this.resistance,this.vel.y*=this.resistance,this.vel.y+=this.gravity,this.pos.x+=this.vel.x,this.pos.y+=this.vel.y,this.size*=this.shrink,this.alpha-=this.fade},w.prototype.render=function(e){if(this.exists()){e.save(),e.globalCompositeOperation="lighter";var t=this.pos.x,a=this.pos.y,n=this.size/2,i=e.createRadialGradient(t,a,.1,t,a,n);i.addColorStop(.1,"rgba(255,255,255,"+this.alpha+")"),i.addColorStop(.8,"hsla("+this.color+", 100%, 50%, "+this.alpha+")"),i.addColorStop(1,"hsla("+this.color+", 100%, 50%, 0.1)"),e.fillStyle=i,e.beginPath(),e.arc(this.pos.x,this.pos.y,this.flick?Math.random()*this.size:this.size,0,2*Math.PI,!0),e.closePath(),e.fill(),e.restore()}},w.prototype.exists=function(){return this.alpha>=.1&&this.size>=1},b.prototype=new w,b.prototype.constructor=b,b.prototype.explode=function(){for(var e=10*Math.random()+80,t=0;t<e;t++){var a=new w(this.pos),n=Math.random()*Math.PI*2,i=15*Math.cos(Math.random()*Math.PI/2);a.vel.x=Math.cos(n)*i,a.vel.y=Math.sin(n)*i,a.size=10,a.gravity=.2,a.resistance=.92,a.shrink=.05*Math.random()+.93,a.flick=!0,a.color=this.explosionColor,g.push(a)}},b.prototype.render=function(e){if(this.exists()){e.save(),e.globalCompositeOperation="lighter";var t=this.pos.x,a=this.pos.y,n=this.size/2,i=e.createRadialGradient(t,a,.1,t,a,n);i.addColorStop(.1,"rgba(255, 255, 255 ,"+this.alpha+")"),i.addColorStop(1,"rgba(0, 0, 0, "+this.alpha+")"),e.fillStyle=i,e.beginPath(),e.arc(this.pos.x,this.pos.y,this.flick?Math.random()*this.size/2+this.size/2:this.size,0,2*Math.PI,!0),e.closePath(),e.fill(),e.restore()}};a(32);var C=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"playerCountPanes",value:function(){return[2,3,4].map(function(e,t){return i.a.createElement("div",{key:"playerCount"+t},i.a.createElement("div",{className:"row playerCount"},i.a.createElement("div",{className:"label"},"".concat(e)," Players")))})}},{key:"levelPanes",value:function(){var e=S.maxLevel(this.props.mind.playerCount),t=e- -1;return Array.apply(null,Array(t)).map(function(t,a){return i.a.createElement("div",{key:"level"+a},i.a.createElement("div",{className:"row level"},i.a.createElement("div",{className:"label"},a- -1<=e&&i.a.createElement("span",null,"Level ",a- -1),a- -1>e&&i.a.createElement("span",null,"VICTORY"))))})}},{key:"livesPanes",value:function(){var e=S.maxLives(this.props.mind.playerCount,this.props.mind.level)||0,t=Math.max(e,this.props.mind.lives)- -1;return Array.apply(null,Array(t)).map(function(t,a){return i.a.createElement("div",{key:"lives"+a},i.a.createElement("div",{className:"row lives"},i.a.createElement("div",{className:"images",style:{maxWidth:90*a+"px"}},0===a&&i.a.createElement("div",null,i.a.createElement("img",{key:"bunny-dead",className:"bunny bunnyDead",src:"img/bunny-dead.png",alt:"Game Over"})),a>0&&Array.apply(null,Array(a)).map(function(e,t){return i.a.createElement("div",null,i.a.createElement("img",{key:"bunny"+a+t,className:"bunny",src:"img/bunny.png",alt:"Life #"+(t- -1)}))})),i.a.createElement("div",{className:"label"},0===a&&i.a.createElement("span",{className:"label"},"GAME OVER"),a>0&&i.a.createElement("span",{className:"label"},"Lives ","".concat(a),"  / ",e))))})}},{key:"starsPanes",value:function(){var e=this,t=Math.max(S.maxStars(this.props.mind.level)- -1||0,this.props.mind.stars);return Array.apply(null,Array(t)).map(function(t,a){return i.a.createElement("div",{key:"stars"+a},i.a.createElement("div",{className:"row stars"},i.a.createElement("div",{className:"images",style:{maxWidth:90*a+"px"}},a>0&&Array.apply(null,Array(a)).map(function(e,t){return i.a.createElement("div",null,i.a.createElement("img",{key:"star"+a+t,className:"star",src:"img/star.png",alt:"Star #"+(t- -1)}))}),0===a&&i.a.createElement("div",null,i.a.createElement("img",{key:"star-empty",className:"starEmpty",src:"img/star_bw.png",alt:"0 Stars"}))),i.a.createElement("div",{className:"label"},"Stars ",a," / ",S.maxStars(e.props.mind.level))))})}},{key:"componentDidUpdate",value:function(e,t,a){var n=e.mind,i=this.props.mind;if(n.level!==i.level){var s=S.maxLives(n.playerCount,n.level),r=S.maxLives(i.playerCount,i.level);if(s!==r){var l=s-r,o=this.livesSwipe.getPos()-l,c=this;setTimeout(function(){o>0&&"active"===i.gameState&&c.livesSwipe.slide(o,500)},0)}else{var p=S.maxStars(n.level),u=S.maxStars(i.level);if(p!==u){var m=p-u,h=this.starsSwipe.getPos()-m,d=this;setTimeout(function(){d.starsSwipe.slide(h,500)},0)}}}localStorage.setItem("mind",JSON.stringify(i))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement("div",{id:"preWrap",className:"pre"===this.props.mind.gameState?"":"hidden"},i.a.createElement("div",{id:"playerCountSwipeWrap",className:"reactSwipeWrap"},i.a.createElement(v.a,{ref:function(t){return e.playerCountSwipe=t},childCount:this.playerCountPanes().length,className:"playerCountSwipe",swipeOptions:{continuous:!1,startSlide:this.props.mind.playerCount-2,callback:function(e,t){},swiping:function(e){},transitionEnd:function(t,a){return e.props.setPlayerCount(t- -2)}}},this.playerCountPanes()),i.a.createElement("button",{id:"startButton",onClick:function(t){return e.props.setGameState("active")},className:"pre"===this.props.mind.gameState?"visible":""},i.a.createElement("span",null,"Start Game")))),i.a.createElement("div",{id:"activeWrap",className:"pre"===this.props.mind.gameState?"hidden":""},i.a.createElement("div",{id:"playerCountDisplay"},this.props.mind.playerCount," Players"),i.a.createElement("div",{id:"levelSwipeWrap",className:"reactSwipeWrap"},i.a.createElement(v.a,{ref:function(t){return e.levelSwipe=t},childCount:this.levelPanes().length,className:"levelSwipe",swipeOptions:{continuous:!1,startSlide:this.props.mind.level-1,callback:function(e,t){},swiping:function(e){},transitionEnd:function(t,a){e.props.setLevel(t- -1),t- -1>S.maxLevel(e.props.mind.playerCount)&&e.props.setGameState("win")}}},this.levelPanes())),i.a.createElement("div",{id:"livesSwipeWrap",className:"reactSwipeWrap"},i.a.createElement(v.a,{ref:function(t){return e.livesSwipe=t},childCount:this.livesPanes().length,className:"active"===this.props.mind.gameState?"livesSwipe":"livesSwipe inactive",swipeOptions:{continuous:!1,startSlide:this.props.mind.lives,callback:function(e,t){},swiping:function(e){},transitionEnd:function(t,a){e.props.setLives(t)}}},this.livesPanes())),i.a.createElement("div",{id:"starsSwipeWrap",className:"reactSwipeWrap"},i.a.createElement(v.a,{ref:function(t){return e.starsSwipe=t},childCount:this.starsPanes().length,className:"active"===this.props.mind.gameState?"starsSwipe":"starsSwipe hidden",swipeOptions:{continuous:!1,startSlide:this.props.mind.stars,callback:function(e,t){},swiping:function(e){},transitionEnd:function(t,a){e.props.setStars(t)}}},this.starsPanes()),i.a.createElement("button",{id:"newGameButton",onClick:function(t){return e.props.setGameState("pre")},className:"win"===this.props.mind.gameState||"loss"===this.props.mind.gameState?"":"hidden"},i.a.createElement("span",null,"New Game")))))}}]),t}(n.Component),x=Object(l.b)(function(e){return Object(h.a)({},e)},function(e){return{setLevel:function(t){return e(function(e){return function(t){t({type:"SET_LEVEL",payload:{level:e}})}}(t))},setLives:function(t){return e(function(e){return function(t){t({type:"SET_LIVES",payload:{lives:e}})}}(t))},setStars:function(t){return e(function(e){return function(t){t({type:"SET_STARS",payload:{stars:e}})}}(t))},setPlayerCount:function(t){return e(function(e){return function(t){t({type:"SET_PLAYER_COUNT",payload:{playerCount:e}})}}(t))},setGameState:function(t){return e(function(e){return function(t){t({type:"SET_GAME_STATE",payload:{gameState:e}})}}(t))}}})(C),k=a(2),N=a(16),O={playerCount:2,level:1,lives:2,stars:1,gameState:"pre"},P=JSON.parse(localStorage.getItem("mind","false")),L=Object(k.c)({mind:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P||O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PLAYER_COUNT":return Object.assign({},e,{playerCount:t.payload.playerCount,lives:t.payload.playerCount});case"SET_LEVEL":return Object.assign({},e,{level:t.payload.level,gameState:t.payload.level>16-2*e.playerCount?"win":"active"});case"SET_LIVES":return Object.assign({},e,{lives:t.payload.lives,gameState:t.payload.lives>0&&"win"!==e.gameState?"active":"loss"});case"SET_STARS":return Object.assign({},e,{stars:t.payload.stars});case"SET_GAME_STATE":var a="pre"!==e.gameState&&"pre"===t.payload.gameState?O:e;return Object.assign({},a,{gameState:t.payload.gameState});default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(34);var T=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],Object(k.d)(L,Object(k.a)(N.a))}();r.a.render(i.a.createElement(l.a,{store:T},i.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.d47265e4.chunk.js.map